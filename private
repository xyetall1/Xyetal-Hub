-- Put this in a LocalScript inside StarterGui
local player = game.Players.LocalPlayer
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")

-- GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "Arbix Hub"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

-- Main Frame
local main = Instance.new("Frame")
main.Size = UDim2.new(0, 400, 0, 270)
main.Position = UDim2.new(0.5, -200, 0.5, -135)
main.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
main.Active = true
main.Draggable = true
main.Parent = gui
Instance.new("UICorner", main).CornerRadius = UDim.new(0, 12)

-- Title
local title = Instance.new("TextLabel")
title.Text = "Arbix Hub"
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundTransparency = 1
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 20
title.Parent = main

-- Close and Minimize Buttons
local closeButton = Instance.new("TextButton")
closeButton.Size = UDim2.new(0, 30, 0, 30)
closeButton.Position = UDim2.new(1, -35, 0, 5)
closeButton.Text = "X"
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
closeButton.Font = Enum.Font.GothamBold
closeButton.TextSize = 14
closeButton.Parent = main
Instance.new("UICorner", closeButton).CornerRadius = UDim.new(0, 6)

local minimizeButton = Instance.new("TextButton")
minimizeButton.Size = UDim2.new(0, 30, 0, 30)
minimizeButton.Position = UDim2.new(1, -70, 0, 5)
minimizeButton.Text = "-"
minimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
minimizeButton.BackgroundColor3 = Color3.fromRGB(50, 50, 200)
minimizeButton.Font = Enum.Font.GothamBold
minimizeButton.TextSize = 14
minimizeButton.Parent = main
Instance.new("UICorner", minimizeButton).CornerRadius = UDim.new(0, 6)

-- Minimized Frame
local minimizedFrame = Instance.new("Frame")
minimizedFrame.Size = UDim2.new(0, 140, 0, 40)
minimizedFrame.Position = UDim2.new(0, 10, 1, -50)
minimizedFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
minimizedFrame.Visible = false
minimizedFrame.Parent = gui
Instance.new("UICorner", minimizedFrame).CornerRadius = UDim.new(0, 8)

local minimizedLabel = Instance.new("TextLabel")
minimizedLabel.Text = "Zkai Hub"
minimizedLabel.Size = UDim2.new(1, -40, 1, 0)
minimizedLabel.Position = UDim2.new(0, 5, 0, 0)
minimizedLabel.BackgroundTransparency = 1
minimizedLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
minimizedLabel.Font = Enum.Font.GothamBold
minimizedLabel.TextSize = 16
minimizedLabel.Parent = minimizedFrame

local restoreButton = Instance.new("TextButton")
restoreButton.Size = UDim2.new(0, 30, 0, 30)
restoreButton.Position = UDim2.new(1, -35, 0.5, -15)
restoreButton.Text = "â–¢"
restoreButton.TextColor3 = Color3.fromRGB(255, 255, 255)
restoreButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
restoreButton.Font = Enum.Font.GothamBold
restoreButton.TextSize = 14
restoreButton.Parent = minimizedFrame
Instance.new("UICorner", restoreButton).CornerRadius = UDim.new(0, 6)

-- Tab Bar
local tabBar = Instance.new("Frame")
tabBar.Size = UDim2.new(0, 100, 1, -40)
tabBar.Position = UDim2.new(0, 0, 0, 40)
tabBar.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
tabBar.Parent = main
Instance.new("UICorner", tabBar).CornerRadius = UDim.new(0, 10)

-- Content Area
local contentFrame = Instance.new("Frame")
contentFrame.Size = UDim2.new(1, -100, 1, -40)
contentFrame.Position = UDim2.new(0, 100, 0, 40)
contentFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
contentFrame.Parent = main
Instance.new("UICorner", contentFrame).CornerRadius = UDim.new(0, 10)

-- Tabs Setup
local tabs = {}

local function createTab(name, order)
	local btn = Instance.new("TextButton")
	btn.Text = name
	btn.Size = UDim2.new(1, 0, 0, 40)
	btn.Position = UDim2.new(0, 0, 0, 40 * (order - 1))
	btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	btn.Font = Enum.Font.Gotham
	btn.TextSize = 14
	btn.Parent = tabBar
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)

	local page = Instance.new("Frame")
	page.Name = name .. "Page"
	page.Size = UDim2.new(1, 0, 1, 0)
	page.BackgroundTransparency = 1
	page.Visible = false
	page.Parent = contentFrame

	tabs[name] = {button = btn, page = page}

	btn.MouseButton1Click:Connect(function()
		for _, tab in pairs(tabs) do
			tab.page.Visible = false
		end
		page.Visible = true
	end)

	return page
end

-- Auto Farm Tab
local autoFarmPage = createTab("Auto Farm", 1)
autoFarmPage.Visible = true

local autoCollect = false
local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(0, 220, 0, 50)
toggleButton.Position = UDim2.new(0.5, -110, 0.25, 0)
toggleButton.BackgroundColor3 = Color3.fromRGB(70, 130, 255)
toggleButton.Text = "Auto Collect Money: OFF"
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleButton.Font = Enum.Font.GothamBold
toggleButton.TextSize = 16
toggleButton.Parent = autoFarmPage
Instance.new("UICorner", toggleButton).CornerRadius = UDim.new(0, 8)

toggleButton.MouseButton1Click:Connect(function()
	autoCollect = not autoCollect
	toggleButton.Text = autoCollect and "Auto Collect Money: ON" or "Auto Collect Money: OFF"
	toggleButton.BackgroundColor3 = autoCollect and Color3.fromRGB(0, 200, 100) or Color3.fromRGB(70, 130, 255)

	if autoCollect then
		task.spawn(function()
			while autoCollect do
				for i = 1, 16 do
					if not autoCollect then break end
					pcall(function()
						game:GetService("ReplicatedStorage")
							:WaitForChild("Packages")
							:WaitForChild("Net")
							:WaitForChild("RE/PlotService/ClaimCoins")
							:FireServer(i)
					end)
					wait(0.2)
				end
			end
		end)
	end
end)

-- Stealing Tab
local stealingPage = createTab("Stealing", 2)

local stealButton = Instance.new("TextButton")
stealButton.Size = UDim2.new(0, 220, 0, 50)
stealButton.Position = UDim2.new(0.5, -110, 0.4, 0)
stealButton.BackgroundColor3 = Color3.fromRGB(255, 70, 70)
stealButton.Text = "Steal Now"
stealButton.TextColor3 = Color3.fromRGB(255, 255, 255)
stealButton.Font = Enum.Font.GothamBold
stealButton.TextSize = 18
stealButton.Parent = stealingPage
Instance.new("UICorner", stealButton).CornerRadius = UDim.new(0, 8)

local wipLabel = Instance.new("TextLabel")
wipLabel.Text = "WORK IN PROGRESS"
wipLabel.Size = UDim2.new(1, 0, 0, 30)
wipLabel.Position = UDim2.new(0, 0, 0.8, 0)
wipLabel.BackgroundTransparency = 1
wipLabel.TextColor3 = Color3.fromRGB(255, 200, 0)
wipLabel.Font = Enum.Font.GothamBold
wipLabel.TextSize = 16
wipLabel.Parent = stealingPage

stealButton.MouseButton1Click:Connect(function()
	pcall(function()
		game:GetService("ReplicatedStorage")
			:WaitForChild("Packages")
			:WaitForChild("Net")
			:WaitForChild("RE/StealService/DeliverySteal")
			:FireServer()
	end)
end)

-- Bypass Anti-Cheat
local bypassButton = Instance.new("TextButton")
bypassButton.Size = UDim2.new(0, 220, 0, 50)
bypassButton.Position = UDim2.new(0.5, -110, 0.6, 0)
bypassButton.BackgroundColor3 = Color3.fromRGB(255, 165, 0)
bypassButton.Text = "Bypass Anti-Cheat"
bypassButton.TextColor3 = Color3.fromRGB(255, 255, 255)
bypassButton.Font = Enum.Font.GothamBold
bypassButton.TextSize = 18
bypassButton.Parent = stealingPage
Instance.new("UICorner", bypassButton).CornerRadius = UDim.new(0, 8)

local loadingScreen = Instance.new("Frame")
loadingScreen.Size = UDim2.new(1, 0, 1, 0)
loadingScreen.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
loadingScreen.BackgroundTransparency = 0.3
loadingScreen.Visible = false
loadingScreen.ZIndex = 10
loadingScreen.Parent = main

local loadingLabel = Instance.new("TextLabel")
loadingLabel.Text = "Bypassing Anti-Cheat..."
loadingLabel.Size = UDim2.new(1, 0, 0, 50)
loadingLabel.Position = UDim2.new(0, 0, 0.5, -25)
loadingLabel.BackgroundTransparency = 1
loadingLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
loadingLabel.Font = Enum.Font.GothamBold
loadingLabel.TextSize = 22
loadingLabel.ZIndex = 11
loadingLabel.Parent = loadingScreen

bypassButton.MouseButton1Click:Connect(function()
	loadingScreen.Visible = true
	task.wait(1.5)
	-- Dummy bypass code, replace with actual bypass logic
	loadingScreen.Visible = false
end)

-- Misc Tab
local miscPage = createTab("Misc", 3)

local walkSpeedToggle = false
local wsLoopConnection

local walkSpeedButton = Instance.new("TextButton")
walkSpeedButton.Size = UDim2.new(0, 220, 0, 50)
walkSpeedButton.Position = UDim2.new(0.5, -110, 0.25, 0)
walkSpeedButton.BackgroundColor3 = Color3.fromRGB(70, 130, 255)
walkSpeedButton.Text = "WalkSpeed Loop: OFF"
walkSpeedButton.TextColor3 = Color3.fromRGB(255, 255, 255)
walkSpeedButton.Font = Enum.Font.GothamBold
walkSpeedButton.TextSize = 16
walkSpeedButton.Parent = miscPage
Instance.new("UICorner", walkSpeedButton).CornerRadius = UDim.new(0, 8)

local function setWalkSpeed(speed)
	local character = player.Character or workspace:FindFirstChild(player.Name)
	if not character then return end
	local humanoid = character:FindFirstChildOfClass("Humanoid")
	if not humanoid then return end
	
	local function applySpeed()
		if humanoid then
			humanoid.WalkSpeed = speed
		end
	end
	
	applySpeed()
	
	if wsLoopConnection then wsLoopConnection:Disconnect() end
	wsLoopConnection = humanoid:GetPropertyChangedSignal("WalkSpeed"):Connect(applySpeed)
	
	player.CharacterAdded:Connect(function(char)
		humanoid = char:WaitForChild("Humanoid")
		applySpeed()
		if wsLoopConnection then wsLoopConnection:Disconnect() end
		wsLoopConnection = humanoid:GetPropertyChangedSignal("WalkSpeed"):Connect(applySpeed)
	end)
end

walkSpeedButton.MouseButton1Click:Connect(function()
	walkSpeedToggle = not walkSpeedToggle
	if walkSpeedToggle then
		walkSpeedButton.Text = "WalkSpeed Loop: ON"
		walkSpeedButton.BackgroundColor3 = Color3.fromRGB(0, 200, 100)
		setWalkSpeed(50)
	else
		walkSpeedButton.Text = "WalkSpeed Loop: OFF"
		walkSpeedButton.BackgroundColor3 = Color3.fromRGB(70, 130, 255)
		if wsLoopConnection then
			wsLoopConnection:Disconnect()
			wsLoopConnection = nil
		end
		local char = player.Character
		if char then
			local hum = char:FindFirstChildOfClass("Humanoid")
			if hum then
				hum.WalkSpeed = 16 -- Default Roblox WalkSpeed
			end
		end
	end
end)

-- Minimize and Close functionality
closeButton.MouseButton1Click:Connect(function()
	gui.Enabled = false
end)

minimizeButton.MouseButton1Click:Connect(function()
	main.Visible = false
	minimizedFrame.Visible = true
end)

restoreButton.MouseButton1Click:Connect(function()
	main.Visible = true
	minimizedFrame.Visible = false
end)

return gui
